
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2017-10-31
 Rendered using Msb3 Maven Skin 0.1.1 (http://tunguski.github.io/msb3-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Revapi Java Extension - Java Extension Configuration</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://bootswatch.com/cosmo/bootstrap.min.css" rel="stylesheet" />
		<link href="../css/bootswatch.css" rel="stylesheet" />
		<link href="../css/msb3-skin.css" rel="stylesheet" />

		<link href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/default.min.css" rel="stylesheet" />

		<link href="../css/lightbox.css" rel="stylesheet" />

		<link href="../css/site.css" rel="stylesheet" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<script src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>(adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3133590320590126",
          enable_page_level_ads: true
        });</script>
<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-57095904-1', 'auto');
        ga('send', 'pageview');</script>
<link rel="alternate" href="https://revapi.org/news.atom" type="application/rss+xml" title="Revapi News"/>
	</head>

	<body class="page-extensions-java project-revapi-java" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<header class="navbar navbar-default navbar-fixed-top">
			<div class="container">
				<div class="navbar-header">
					<a class="navbar-toggle collapsed" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="navbar-brand" href="../../..">Revapi</a>
				</div>
					<div class="collapse navbar-collapse" id="top-nav-collapse">
						<ul class="nav navbar-nav navbar-right">
							<li ><a href="https://diff.revapi.org" title="Online Check" class="externalLink">Online Check</a></li>
							<li ><a href="../../../news.html" title="News">News</a></li>
							<li ><a href="../../../getting-started.html" title="Getting Started">Getting Started</a></li>
							<li ><a href="../../../downloads.html" title="Downloads">Downloads</a></li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Basic Info <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../../../architecture.html" title="Architecture">Architecture</a></li>
									<li ><a href="../../../building.html" title="Building">Building</a></li>
									<li ><a href="../../../extensions.html" title="Extensions">Extensions</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Sub Projects <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../../revapi/index.html" title="Revapi API">Revapi API</a></li>
									<li ><a href="../../revapi-ant-task/index.html" title="Ant Task">Ant Task</a></li>
									<li ><a href="../../revapi-basic-features/index.html" title="Basic Features">Basic Features</a></li>
									<li ><a href="../index.html" title="Java Extension">Java Extension</a></li>
									<li ><a href="../../revapi-java-spi/index.html" title="Java Extension SPI">Java Extension SPI</a></li>
									<li ><a href="../../revapi-java-test-support/index.html" title="Java Test Support">Java Test Support</a></li>
									<li ><a href="../../revapi-reporter-text/index.html" title="Text Report Extension">Text Report Extension</a></li>
									<li ><a href="../../revapi-maven-plugin/index.html" title="Maven Plugin">Maven Plugin</a></li>
								</ul>
							</li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Details <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../differences.html" title="Detected API differences">Detected API differences</a></li>
									<li ><a href="../enhance-java-checks.html" title="Extending Java API Checks">Extending Java API Checks</a></li>
									<li class="active"><a href="" title="Java Extension Configuration">Java Extension Configuration</a></li>
									<li ><a href="annotated-elem-filter.html" title="Annotated Element Filter Extension Configuration">Annotated Element Filter Extension Configuration</a></li>
									<li ><a href="class-filter.html" title="Class Filter Extension">Class Filter Extension</a></li>
									<li ><a href="package-filter.html" title="Package Filter Extension">Package Filter Extension</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
			</div>
		</header>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron">
		<div class="row">
			<div class="col-md-12">
				<div class="pull-left">
					<a href="https://revapi.org/modules/revapi-java" id="bannerLeft"><h1>Revapi Java Extension</h1></a>
					<p class="lead">Revapi extension to check API of java classes in jar archives.</p>
				</div>
				<div class="pull-right">
				</div>
			</div>
		</div>
	</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="col-md-8">
			<div class="body-content">
<div class="sect1"> 
 <div class="page-header">
  <h2 id="a_java_extension_configuration">Java Extension Configuration</h2>
 </div> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p><strong>Extension</strong>: <code>revapi.java</code></p> 
  </div> 
  <div class="paragraph"> 
   <p>Java extension is the actual thing that performs the API checks of the Java code. It can detect a large number of checks for binary, source and also some rudimentary semantic (or behavioral) analysis. For the list of checks, please consult the <a href="../index.html">homepage</a> of the extension.</p> 
  </div> 
  <div class="paragraph"> 
   <p>On this page you can learn about the possible configuration options of the Java extension.</p> 
  </div> 
  <div class="sect2"> 
   <h3 id="a_class_package_filtering">Class/Package Filtering</h3> 
   <div class="paragraph"> 
    <p>Given Java’s lacking modularity (prior to Java9), authors are often forced to make classes that are essentially an implementation detail of a library public. Such classes are often included in packages like <code>impl</code> or <code>internal</code> to hint at their non-public nature.</p> 
   </div> 
   <div class="paragraph"> 
    <p>While Revapi offers the basic filtering capabilities using the <a href="../../revapi-basic-features/extensions/filter.html">basic filter</a>, it often is much simpler to exclude classes or packages like that using this filter (or the <a href="package-filter.html">package filter</a>), specifically made for this purpose (if for nothing else then for the simpler configuration).</p> 
   </div> 
   <div class="paragraph"> 
    <p>By default, all classes are included. If the include filter is specified, only the classes matching the include filter are included in the API check. The exclude filter can take out classes that would otherwise be included.</p> 
   </div> 
   <div class="paragraph"> 
    <p>It is not possible include class that matches a class exclude filter (i.e. if include and exclude filter match the same class, the class is not included) but it is possible to include an inner classes while its parent class is excluded.</p> 
   </div> 
   <div class="paragraph"> 
    <p>It is not possible include classes in package that matches a package exclude filter (i.e. if include and exclude filter match the same package, the classes are not included).</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="a_sample_configuration">Sample Configuration</h3> 
   <div class="listingblock"> 
    <div class="content"> 
     <pre class="highlight"><code class="language-javascript" data-lang="javascript">{
  "revapi": {
    "java": {
      "missing-classes": {
        "behavior": "report",
        "ignoreMissingAnnotations": false
      },
      "reportUsesFor": ["java.missing.newClass", "java.class.nonPublicPartOfAPI"],
      "filter": {
        "classes": {
          "regex": true,
          "include": ["com\\.acme\\.api\\..*"]
          "exclude": ["com\\.acme\\.api\\.WeRegretWePlacedThisInApi"]
        },
        "packages": {
          "regex": true,
          "include": ["com\\.acme\\.api\\..*"]
          "exclude": ["com\\.acme\\.internal"]
        }
      }
    }
  }
}</code></pre> 
    </div> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="a_properties">Properties</h3> 
   <div class="dlist"> 
    <dl> 
     <dt class="hdlist1"> 
      <code>missing-classes.behavior</code> 
     </dt> 
     <dd> 
      <p>This tells the checker what to do when a class is found in the API that is not found in any of the provided jars. The possible values are: <code>error</code>, <code>ignore</code> or <code>report</code> (the default). If <code>report</code> is chosen then the missing class is reported as a problem with either <code>java.missing.oldClass</code> code or <code>java.missing.newClass</code> depending on whether the class was found missing in the old or new version of the API.</p> 
     </dd> 
     <dt class="hdlist1"> 
      <code>missing-classes.ignoreMissingAnnotations</code> 
     </dt> 
     <dd> 
      <p>If <code>true</code> (the default is <code>false</code>) the usage chain of annotation classes will not be tracked. The end result of this is that annotation classes will not be considered part of the API and thus missing annotation classes will not be reported.</p> 
     </dd> 
     <dt class="hdlist1"> 
      <code>reportUsesFor</code> 
     </dt> 
     <dd> 
      <p>Revapi is able to track usage chains of the classes it finds in the API. For some (or all) problems you may want to know how and where a certain class is used to be able to determine if that’s something wrong or not. This configuration property can either be a string <code>all-differences</code>, signifying that an example use chain will be reported for every found difference or a list of difference codes for which the example use chain should be produced. By default the usage chains are reported for the following problem codes: <code>java.missing.newClass</code>, <code>java.missing.oldClass</code>, <code>java.class.nonPublicPartOfAPI</code>, <code>java.class.externalClassNoLongerExposedInAPI</code>, <code>java.class.externalClassExposedInAPI</code>.</p> 
     </dd> 
     <dt class="hdlist1"> 
      <code>filter.classes.regex</code> 
     </dt> 
     <dd> 
      <p>Specifies whether to consider the strings in <code>exclude</code> and <code>include</code> lists as regular expressions or not. The default value is <code>false</code>, meaning the strings are not considered as regular expressions.</p> 
     </dd> 
     <dt class="hdlist1"> 
      <code>filter.classes.exclude</code> 
     </dt> 
     <dd> 
      <p>List of strings representing FQCNs or regular expressions matching FQCNs. Classes with the matching fully qualified names (and the members of those classes) will be excluded from the API check.</p> 
     </dd> 
     <dt class="hdlist1"> 
      <code>filter.classes.include</code> 
     </dt> 
     <dd> 
      <p>List of strings representing FQCNs or regular expressions matching FQCNs. Only classes with the matching fully qualified names (and their members) will be included in the API check.</p> 
     </dd> 
     <dt class="hdlist1"> 
      <code>filter.packages.regex</code> 
     </dt> 
     <dd> 
      <p>Specifies whether to consider the strings in <code>exclude</code> and <code>include</code> lists as regular expressions or not. The default value is <code>false</code>, meaning the strings are not considered as regular expressions.</p> 
     </dd> 
     <dt class="hdlist1"> 
      <code>filter.packages.exclude</code> 
     </dt> 
     <dd> 
      <p>List of strings representing full package names or regular expressions matching them. Classes with the matching package names (and the members of those classes) will be excluded from the API check.</p> 
     </dd> 
     <dt class="hdlist1"> 
      <code>filter.packages.include</code> 
     </dt> 
     <dd> 
      <p>List of strings representing full package names or regular expressions matching them. Classes with the matching package names (and the members of those classes) will be included in the API check.</p> 
     </dd> 
    </dl> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="a_notes">Notes</h3> 
   <div class="paragraph"> 
    <p>Contrary to intuition, java packages are not hierarchical, even though they have hierarchical names. In Java parlance, package <code>com.acme.foo</code> is a sub-package of <code>com.acme</code> but that does not mean that it’s enclosing element is <code>com.acme</code>. No, each package is a top level element that does not have any parent elements and which only contains classes, not other packages.</p> 
   </div> 
   <div class="paragraph"> 
    <p>Therefore if you want to exclude a package and all its sub-packages, you need to use a regular expression <code>"com\\.acme(\\..+)?"</code> which will match the <code>com.acme</code> package and any of its sub-packages.</p> 
   </div> 
  </div> 
 </div> 
</div>
			</div>
		</div>
		<div class="col-md-4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li class="dropdown"><a href="#a_java_extension_configuration" title="Java Extension Configuration">Java Extension Configuration <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#a_class_package_filtering" title="Class/Package Filtering">Class/Package Filtering</a>
		<li><a href="#a_sample_configuration" title="Sample Configuration">Sample Configuration</a>
		<li><a href="#a_properties" title="Properties">Properties</a>
		<li><a href="#a_notes" title="Notes">Notes</a>
			</ul>
		</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="col-md-3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Basic Info</li>
						<li >
							<a href="../../../architecture.html" title="Architecture">Architecture</a>
						</li>
						<li >
							<a href="../../../building.html" title="Building">Building</a>
						</li>
						<li >
							<a href="../../../extensions.html" title="Extensions">Extensions</a>
						</li>
						<li class="nav-header">Sub Projects</li>
						<li >
							<a href="../../revapi/index.html" title="Revapi API">Revapi API</a>
						</li>
						<li >
							<a href="../../revapi-ant-task/index.html" title="Ant Task">Ant Task</a>
						</li>
						<li >
							<a href="../../revapi-basic-features/index.html" title="Basic Features">Basic Features</a>
						</li>
						<li >
							<a href="../index.html" title="Java Extension">Java Extension</a>
						</li>
						<li >
							<a href="../../revapi-java-spi/index.html" title="Java Extension SPI">Java Extension SPI</a>
						</li>
						<li >
							<a href="../../revapi-java-test-support/index.html" title="Java Test Support">Java Test Support</a>
						</li>
						<li >
							<a href="../../revapi-reporter-text/index.html" title="Text Report Extension">Text Report Extension</a>
						</li>
						<li >
							<a href="../../revapi-maven-plugin/index.html" title="Maven Plugin">Maven Plugin</a>
						</li>
					</ul>
				</div>
				<div class="col-md-3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Project Details</li>
						<li >
							<a href="../differences.html" title="Detected API differences">Detected API differences</a>
						</li>
						<li >
							<a href="../enhance-java-checks.html" title="Extending Java API Checks">Extending Java API Checks</a>
						</li>
						<li class="active">
							<a href="#" title="Java Extension Configuration">Java Extension Configuration</a>
						</li>
						<li >
							<a href="annotated-elem-filter.html" title="Annotated Element Filter Extension Configuration">Annotated Element Filter Extension Configuration</a>
						</li>
						<li >
							<a href="class-filter.html" title="Class Filter Extension">Class Filter Extension</a>
						</li>
						<li >
							<a href="package-filter.html" title="Package Filter Extension">Package Filter Extension</a>
						</li>
					</ul>
				</div>
				<div class="col-md-3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Maven Documentation</li>
						<li >
							<a href="../project-info.html" title="Project Information">Project Information <i class="glyphicon glyphicon-chevron-right"></i></a>
						</li>
						<li >
							<a href="../project-reports.html" title="Project Reports">Project Reports <i class="glyphicon glyphicon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
				<div class="col-md-3 bottom-description">
					<blockquote>Revapi Java Extension</blockquote>
					<blockquote class="version-date"><span class="projectVersion">Version: 0.14.4</span><br/><span class="publishDate">Last Published: 2017-10-31</span></blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="col-md-12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2017 <a href="http://lukas.krejci.pw">Lukas Krejci</a>. All Rights Reserved.</p>
				<p><a href="http://github.com/tunguski/msb3-maven-skin" title="Msb3 Maven skin">Msb3 Maven skin</a> by <a href="http://matsuo.pl" target="_blank" title="Marek Romanowski">Marek Romanowski</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<script src="../js/lightbox.min.js"></script>
	<script src="../js/msb3-scroll.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>

	<script src="../js/msb3-skin.js"></script>

	</body>
</html>