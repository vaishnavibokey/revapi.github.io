
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2016-08-23
 Rendered using Msb3 Maven Skin 0.1.1 (http://tunguski.github.io/msb3-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Revapi Maven Plugin - Evolving The Library Using Semver Rules</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://bootswatch.com/cosmo/bootstrap.min.css" rel="stylesheet" />
		<link href="../css/bootswatch.css" rel="stylesheet" />
		<link href="../css/msb3-skin.css" rel="stylesheet" />

		<link href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/default.min.css" rel="stylesheet" />

		<link href="../css/lightbox.css" rel="stylesheet" />

		<link href="../css/site.css" rel="stylesheet" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->



	</head>

	<body class="page-examples-evolving-with-semver project-revapi-maven-plugin" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<header class="navbar navbar-default navbar-fixed-top">
			<div class="container">
				<div class="navbar-header">
					<a class="navbar-toggle collapsed" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="navbar-brand" href="../../..">Revapi</a>
				</div>
					<div class="collapse navbar-collapse" id="top-nav-collapse">
						<ul class="nav navbar-nav navbar-right">
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Basic Info <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../../../getting-started.html" title="Getting Started">Getting Started</a></li>
									<li ><a href="../../../architecture.html" title="Architecture">Architecture</a></li>
									<li ><a href="../../../building.html" title="Building">Building</a></li>
									<li ><a href="../../../extensions.html" title="Extensions">Extensions</a></li>
									<li ><a href="../../../downloads.html" title="Downloads">Downloads</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Sub Projects <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../../revapi/index.html" title="Revapi API">Revapi API</a></li>
									<li ><a href="../../revapi-ant-task/index.html" title="Ant Task">Ant Task</a></li>
									<li ><a href="../../revapi-basic-features/index.html" title="Basic Features">Basic Features</a></li>
									<li ><a href="../../revapi-java/index.html" title="Java Extension">Java Extension</a></li>
									<li ><a href="../../revapi-java-spi/index.html" title="Java Extension SPI">Java Extension SPI</a></li>
									<li ><a href="../../revapi-reporter-text/index.html" title="Text Report Extension">Text Report Extension</a></li>
									<li ><a href="../index.html" title="Maven Plugin">Maven Plugin</a></li>
								</ul>
							</li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Details <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../plugin-info.html" title="Goals">Goals</a></li>
									<li ><a href="specifying-versions.html" title="Specifying Versions To Check">Specifying Versions To Check</a></li>
									<li ><a href="configuration.html" title="Configuration">Configuration</a></li>
									<li class="active"><a href="" title="Evolving With Semver Versioning Rules">Evolving With Semver Versioning Rules</a></li>
									<li ><a href="multi-file-configuration.html" title="Multi-file Configuration">Multi-file Configuration</a></li>
									<li ><a href="report.html" title="Report">Report</a></li>
									<li ><a href="comparing-specific-artifacts.html" title="Comparing Specific Artifacts">Comparing Specific Artifacts</a></li>
									<li ><a href="updating-versions.html" title="Determining New Version String">Determining New Version String</a></li>
									<li ><a href="updating-release-properties.html" title="Setting Versions In release.properties">Setting Versions In release.properties</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
			</div>
		</header>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron">
		<div class="row">
			<div class="col-md-12">
				<div class="pull-left">
					<a href="http://revapi.org/modules/revapi-maven-plugin" id="bannerLeft"><h1>Revapi Maven Plugin</h1></a>
					<p class="lead">Maven integration for Revapi.</p>
				</div>
				<div class="pull-right">
				</div>
			</div>
		</div>
	</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="col-md-8">
			<div class="body-content">
<div class="sect1"> 
 <div class="page-header">
  <h2 id="a_evolving_the_library_using_semver_rules">Evolving The Library Using Semver Rules</h2>
 </div> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>By default Revapi will report all API changes of configured severity (by default "potentiallyBreaking") and the maven plugin will break the build if such differences are found since the last released version.</p> 
  </div> 
  <div class="paragraph"> 
   <p>One then has to somehow "persuade" the plugin to let the build pass again. One way of doing it is to use the <a href="../../revapi-basic-features/extensions/ignore.html">ignore extension</a> and list all the changes and provide them with a "justification" for why such change happened.</p> 
  </div> 
  <div class="paragraph"> 
   <p>This is very rigorous but also laborious approach that isnâ€™t always worth the effort - especially in the early stages of development. Also one can argue that any change made to the codebase is intentional and therefore specifically listing it somewhere in a file that would justify such change to a tool is superfluous. On the other such strict policy might be required for some critical libraries that require high level of stability and any change should be vetted and approved.</p> 
  </div> 
  <div class="paragraph"> 
   <p>There is also another way though. One can use the combination of the <a href="../../revapi-basic-features/extensions/semver-ignore.html">semver-ignore extension</a> and the <a href="update-versions.html">update-versions goal</a> to (semi-)automatically increase the version of the library even during the development such that its version corresponds to the API changes it contains since the last released version. No other action like listing the and justifying the changes is necessary in this case.</p> 
  </div> 
  <div class="paragraph"> 
   <p>For that you need to configure Revapi maven plugin to use and enable the <a href="../../revapi-basic-features/extensions/semver-ignore.html">semver-ignore extension</a>:</p> 
  </div> 
  <div class="listingblock"> 
   <div class="content"> 
    <pre class="highlight"><code class="language-xml" data-lang="xml">&lt;build&gt;
    &lt;plugin&gt;
        &lt;groupId&gt;org.revapi&lt;/groupId&gt;
        &lt;artifactId&gt;revapi-maven-plugin&lt;/artifactId&gt;
        &lt;configuration&gt;
            &lt;analysisConfiguration&gt;&lt;![CDATA[
                {
                  "revapi": {
                    "semver": {
                      "ignore": {
                        "enabled": true
                      }
                    }
                  }
                }
            ]]&gt;&lt;/analysisConfiguration&gt;
        &lt;/configuration&gt;
    &lt;/plugin&gt;
&lt;/build&gt;</code></pre> 
   </div> 
  </div> 
  <div class="paragraph"> 
   <p>Then, when you try to build your project, revapi might find a change that is incompatible with the current version increase (like an API breaking change when you only increased a micro version since the last release) and fail your build. At that moment, it is enough to invoke:</p> 
  </div> 
  <div class="listingblock"> 
   <div class="content"> 
    <pre class="highlight"><code>mvn package revapi:update-versions</code></pre> 
   </div> 
  </div> 
  <div class="paragraph"> 
   <p>and the version will be updated to reflect the API changes made. When you build the project again, the build should pass.</p> 
  </div> 
  <div class="admonitionblock note"> 
   <table> 
    <tbody> 
     <tr> 
      <td class="icon"> 
       <div class="title">
         Note 
       </div> </td> 
      <td class="content"> It is still necessary to run the package phase so that the code is actually compiled and revapi can compare the built artifacts with the last released artifacts. On the other hand, you can even embed the <code>update-versions</code> goal in your regular build and have the versions increase automagically (at the cost of having to run the build twice when an incompatible change is made). </td> 
     </tr> 
    </tbody> 
   </table> 
  </div> 
 </div> 
</div>
			</div>
		</div>
		<div class="col-md-4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li><a href="#a_evolving_the_library_using_semver_rules" title="Evolving The Library Using Semver Rules">Evolving The Library Using Semver Rules</a>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="col-md-3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Basic Info</li>
						<li >
							<a href="../../../getting-started.html" title="Getting Started">Getting Started</a>
						</li>
						<li >
							<a href="../../../architecture.html" title="Architecture">Architecture</a>
						</li>
						<li >
							<a href="../../../building.html" title="Building">Building</a>
						</li>
						<li >
							<a href="../../../extensions.html" title="Extensions">Extensions</a>
						</li>
						<li >
							<a href="../../../downloads.html" title="Downloads">Downloads</a>
						</li>
						<li class="nav-header">Sub Projects</li>
						<li >
							<a href="../../revapi/index.html" title="Revapi API">Revapi API</a>
						</li>
						<li >
							<a href="../../revapi-ant-task/index.html" title="Ant Task">Ant Task</a>
						</li>
						<li >
							<a href="../../revapi-basic-features/index.html" title="Basic Features">Basic Features</a>
						</li>
						<li >
							<a href="../../revapi-java/index.html" title="Java Extension">Java Extension</a>
						</li>
						<li >
							<a href="../../revapi-java-spi/index.html" title="Java Extension SPI">Java Extension SPI</a>
						</li>
						<li >
							<a href="../../revapi-reporter-text/index.html" title="Text Report Extension">Text Report Extension</a>
						</li>
						<li >
							<a href="../index.html" title="Maven Plugin">Maven Plugin</a>
						</li>
					</ul>
				</div>
				<div class="col-md-3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Project Details</li>
						<li >
							<a href="../plugin-info.html" title="Goals">Goals</a>
						</li>
						<li >
							<a href="specifying-versions.html" title="Specifying Versions To Check">Specifying Versions To Check</a>
						</li>
						<li >
							<a href="configuration.html" title="Configuration">Configuration</a>
						</li>
						<li class="active">
							<a href="#" title="Evolving With Semver Versioning Rules">Evolving With Semver Versioning Rules</a>
						</li>
						<li >
							<a href="multi-file-configuration.html" title="Multi-file Configuration">Multi-file Configuration</a>
						</li>
						<li >
							<a href="report.html" title="Report">Report</a>
						</li>
						<li >
							<a href="comparing-specific-artifacts.html" title="Comparing Specific Artifacts">Comparing Specific Artifacts</a>
						</li>
						<li >
							<a href="updating-versions.html" title="Determining New Version String">Determining New Version String</a>
						</li>
						<li >
							<a href="updating-release-properties.html" title="Setting Versions In release.properties">Setting Versions In release.properties</a>
						</li>
					</ul>
				</div>
				<div class="col-md-3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Maven Documentation</li>
						<li >
							<a href="../project-info.html" title="Project Information">Project Information <i class="glyphicon glyphicon-chevron-right"></i></a>
						</li>
						<li >
							<a href="../project-reports.html" title="Project Reports">Project Reports <i class="glyphicon glyphicon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
				<div class="col-md-3 bottom-description">
					<blockquote>Revapi Maven Plugin</blockquote>
					<blockquote class="version-date"><span class="projectVersion">Version: 0.5.0</span><br/><span class="publishDate">Last Published: 2016-08-23</span></blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="col-md-12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2016 <a href="http://lukas.krejci.pw">Lukas Krejci</a>. All Rights Reserved.</p>
				<p><a href="http://github.com/tunguski/msb3-maven-skin" title="Msb3 Maven skin">Msb3 Maven skin</a> by <a href="http://matsuo.pl" target="_blank" title="Marek Romanowski">Marek Romanowski</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<script src="../js/lightbox.min.js"></script>
	<script src="../js/msb3-scroll.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>

	<script src="../js/msb3-skin.js"></script>

	</body>
</html>