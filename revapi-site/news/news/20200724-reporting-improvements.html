<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Reporting Improvements :: Revapi</title>
    <link rel="canonical" href="https://revapi.org/revapi-site/news/news/20200724-reporting-improvements.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="../../../_/css/news.css">
<link rel="stylesheet" href="../../../_/css/additions.css">

<link rel="alternate" type="application/rss+xml" title="Revapi RSS" href="../../../_/../revapi-site/master/news/_attachments/news.atom" />
<link rel="stylesheet" href="../../../_/css/search.css">
</head>
<body class="news article">
<header class="header">
    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://revapi.org">Revapi</a>
              <div class="navbar-item">
                <input id="search-input" type="text" placeholder="Search docs">
              </div>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">
                <a class="navbar-item" href="../../index.html/../news/index.html">News</a>
                <a class="navbar-item" href="../../index.html/../downloads.html">Downloads</a>
                <a class="navbar-item" href="https://diff.revapi.org">Online Check</a>
                <a class="navbar-item" href="https://github.com/revapi/revapi"><img src="../../../_/img/github.svg" alt="Github Repository"/></a>
                <a class="navbar-item" href="https://twitter.com/revapi_org"><img src="../../../_/img/twitter.svg" alt="Twitter"/></a>
                <a class="navbar-item" href="../../../_/../revapi-site/0/news/_attachments/news.atom"><img src="../../../_/img/rss.svg" alt="RSS"/></a>
            </div>
        </div>
    </nav>
</header>
<div class="body">
<div class="nav-container" data-component="revapi-site" data-version="master">
  <aside class="nav">
    <div class="panels">
    <div class="nav-panel-menu is-active" data-panel="menu">
        <nav class="nav-menu">
                <ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../getting-started.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../faq.html">FAQ</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../revapi/architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../revapi/configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../revapi/extending-revapi.html">Extending Revapi</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../building.html">Building</a>
  </li>
</ul>
  </li>
</ul>
            <ul class="nav-list">
                <li class="nav-item" data-depth="0">
                    <hr/>
                    <i class="nav-text">Modules</i>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../../revapi-ant-task/index.html">
                                    <span class="nav-text">Ant Task</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../../revapi/index.html">
                                    <span class="nav-text">API</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../../revapi-basic-features/index.html">
                                    <span class="nav-text">Basic Features</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../../revapi-standalone/index.html">
                                    <span class="nav-text">CLI</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../../revapi-reporter-file-base/index.html">
                                    <span class="nav-text">File Reporter Base</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../../revapi-jackson/index.html">
                                    <span class="nav-text">Jackson Analyzer Base</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../../revapi-java/index.html">
                                    <span class="nav-text">Java Analyzer</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../../revapi-java-spi/index.html">
                                    <span class="nav-text">Java Analyzer SPI</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../../revapi-json/index.html">
                                    <span class="nav-text">JSON Analyzer</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../../revapi-reporter-json/index.html">
                                    <span class="nav-text">JSON Reporter</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../../revapi-maven-plugin/index.html">
                                    <span class="nav-text">Maven Plugin</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../../revapi-reporter-text/index.html">
                                    <span class="nav-text">Text Reporter</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../../revapi-yaml/index.html">
                                    <span class="nav-text">YAML Analyzer</span>
                                </a>
                            </li>
                </li>
            </ul>
        </nav>
    </div>
<div class="nav-panel-explore" data-panel="explore" style="display: none">
  <div class="context">
    <span class="title">Revapi Site</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Ant Task</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../revapi-ant-task/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../revapi-ant-task/0.11.2/index.html">0.11.2</a>
        </li>
        <li class="version">
          <a href="../../../revapi-ant-task/0.11.1/index.html">0.11.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-ant-task/0.11.0/index.html">0.11.0</a>
        </li>
        <li class="version">
          <a href="../../../revapi-ant-task/0.10.2/index.html">0.10.2</a>
        </li>
        <li class="version">
          <a href="../../../revapi-ant-task/0.10.1/index.html">0.10.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-ant-task/0.10.0/index.html">0.10.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">API</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../revapi/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../revapi/0.13.2/index.html">0.13.2</a>
        </li>
        <li class="version">
          <a href="../../../revapi/0.13.1/index.html">0.13.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi/0.13.0/index.html">0.13.0</a>
        </li>
        <li class="version">
          <a href="../../../revapi/0.12.0/index.html">0.12.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Basic Features</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../revapi-basic-features/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../revapi-basic-features/0.11.2/index.html">0.11.2</a>
        </li>
        <li class="version">
          <a href="../../../revapi-basic-features/0.11.1/index.html">0.11.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-basic-features/0.11.0/index.html">0.11.0</a>
        </li>
        <li class="version">
          <a href="../../../revapi-basic-features/0.10.2/index.html">0.10.2</a>
        </li>
        <li class="version">
          <a href="../../../revapi-basic-features/0.10.1/index.html">0.10.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-basic-features/0.10.0/index.html">0.10.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">CLI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../revapi-standalone/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../revapi-standalone/0.10.2/index.html">0.10.2</a>
        </li>
        <li class="version">
          <a href="../../../revapi-standalone/0.10.1/index.html">0.10.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-standalone/0.10.0/index.html">0.10.0</a>
        </li>
        <li class="version">
          <a href="../../../revapi-standalone/0.9.8/index.html">0.9.8</a>
        </li>
        <li class="version">
          <a href="../../../revapi-standalone/0.9.7/index.html">0.9.7</a>
        </li>
        <li class="version">
          <a href="../../../revapi-standalone/0.9.6/index.html">0.9.6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">File Reporter Base</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../revapi-reporter-file-base/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../revapi-reporter-file-base/0.3.2/index.html">0.3.2</a>
        </li>
        <li class="version">
          <a href="../../../revapi-reporter-file-base/0.3.1/index.html">0.3.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-reporter-file-base/0.3.0/index.html">0.3.0</a>
        </li>
        <li class="version">
          <a href="../../../revapi-reporter-file-base/0.2.1/index.html">0.2.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-reporter-file-base/0.2.0/index.html">0.2.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Jackson Analyzer Base</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../revapi-jackson/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../revapi-jackson/0.2.1/index.html">0.2.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-jackson/0.2.0/index.html">0.2.0</a>
        </li>
        <li class="version">
          <a href="../../../revapi-jackson/0.1.1/index.html">0.1.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-jackson/0.1.0/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Java Analyzer</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../revapi-java/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../revapi-java/0.23.2/index.html">0.23.2</a>
        </li>
        <li class="version">
          <a href="../../../revapi-java/0.23.1/index.html">0.23.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-java/0.23.0/index.html">0.23.0</a>
        </li>
        <li class="version">
          <a href="../../../revapi-java/0.22.1/index.html">0.22.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-java/0.22.0/index.html">0.22.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Java Analyzer SPI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../revapi-java-spi/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../revapi-java-spi/0.22.2/index.html">0.22.2</a>
        </li>
        <li class="version">
          <a href="../../../revapi-java-spi/0.22.1/index.html">0.22.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-java-spi/0.22.0/index.html">0.22.0</a>
        </li>
        <li class="version">
          <a href="../../../revapi-java-spi/0.21.1/index.html">0.21.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-java-spi/0.21.0/index.html">0.21.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">JSON Analyzer</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../revapi-json/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../revapi-json/0.2.1/index.html">0.2.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-json/0.2.0/index.html">0.2.0</a>
        </li>
        <li class="version">
          <a href="../../../revapi-json/0.1.1/index.html">0.1.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-json/0.1.0/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">JSON Reporter</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../revapi-reporter-json/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../revapi-reporter-json/0.3.2/index.html">0.3.2</a>
        </li>
        <li class="version">
          <a href="../../../revapi-reporter-json/0.3.1/index.html">0.3.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-reporter-json/0.3.0/index.html">0.3.0</a>
        </li>
        <li class="version">
          <a href="../../../revapi-reporter-json/0.2.1/index.html">0.2.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-reporter-json/0.2.0/index.html">0.2.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Maven Plugin</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../revapi-maven-plugin/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../revapi-maven-plugin/0.13.2/index.html">0.13.2</a>
        </li>
        <li class="version">
          <a href="../../../revapi-maven-plugin/0.13.1/index.html">0.13.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-maven-plugin/0.13.0/index.html">0.13.0</a>
        </li>
        <li class="version">
          <a href="../../../revapi-maven-plugin/0.12.2/index.html">0.12.2</a>
        </li>
        <li class="version">
          <a href="../../../revapi-maven-plugin/0.12.1/index.html">0.12.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-maven-plugin/0.12.0/index.html">0.12.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Revapi Site</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Text Reporter</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../revapi-reporter-text/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../revapi-reporter-text/0.13.2/index.html">0.13.2</a>
        </li>
        <li class="version">
          <a href="../../../revapi-reporter-text/0.13.1/index.html">0.13.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-reporter-text/0.13.0/index.html">0.13.0</a>
        </li>
        <li class="version">
          <a href="../../../revapi-reporter-text/0.12.1/index.html">0.12.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-reporter-text/0.12.0/index.html">0.12.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">YAML Analyzer</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../revapi-yaml/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../revapi-yaml/0.2.1/index.html">0.2.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-yaml/0.2.0/index.html">0.2.0</a>
        </li>
        <li class="version">
          <a href="../../../revapi-yaml/0.1.1/index.html">0.1.1</a>
        </li>
        <li class="version">
          <a href="../../../revapi-yaml/0.1.0/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
    <div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Revapi Site</a></li>
    <li><a href="20200724-reporting-improvements.html">Reporting Improvements</a></li>
  </ul>
</nav>
<div class="page-versions">
  <div class="version-menu">
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/revapi/revapi/edit/master/revapi-site/src/site/modules/news/pages/news/20200724-reporting-improvements.adoc" title="Edit the latest version of this page">Edit this page</a></div>
</div>
    <div class="content">
        <article class="doc">
            <h1 class="page">Reporting Improvements</h1>
            <p class="news-date" id="publish-date"></p>
            <script language="JavaScript">
                var date = "2020-07-24";
                date = new Date(date);
                date = date.toUTCString();
                date = date.substring(0, date.lastIndexOf(" ", date.length - 5));
                document.getElementById("publish-date").textContent = date;
            </script>
        <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>After quite a long and relatively quiet period where Revapi received only bugfixes and small new enhancements, this release brings new improvements that touch the very way Revapi operates in the builds.</p>
</div>
<div class="paragraph">
<p>Also, as you might have noticed reading this, the site has been revamped and is now generated by Antora.i
This means that your saved links generally don&#8217;t work anymore, the RSS feed is on another location, etc. I am sorry about this but this change was necessary to enable a versioned site. From now on, the documentation will also be available for the past releases, not just the latest one. This is in preparation for the 1.0 release (that is still some time in the future).</p>
</div>
<div class="paragraph">
<p>There were actually no bugs fixed in this release, only new features have been implemented:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/revapi/revapi/issues/192">#192</a> - the external configuration files or Revapi can now contain variable references that are correctly interpolated with values known in the Maven reactor.</p>
</li>
<li>
<p>Freemarker has been update to the latest version, 2.3.30, in the <code>revapi-reporter-text</code> extension.</p>
</li>
<li>
<p><code>failBuildOnProblemsFound</code> and <code>outputIgnoreSuggestions</code> maven plugin properties are now logically independent.</p>
</li>
<li>
<p><a href="https://github.com/revapi/revapi/issues/198">#198</a> - The new <code>ignoreSuggestionsFile</code> option enables one to also store the ignore suggestion snippets in a file.</p>
</li>
<li>
<p><a href="https://github.com/revapi/revapi/issues/197">#197</a> - All found differences now contain 2 new attachments (aka matche parameters): <code>oldArchiveRole</code> and <code>newArchiveRole</code> - these indicate whether the old or new element come from the primary API (with value <code>primary</code>) or from the dependencies (with value <code>supplementary</code>).</p>
</li>
<li>
<p><a href="https://github.com/revapi/revapi/issues/202">#202</a> - <code>revapi.ignore</code> and <code>revapi.reclassify</code> extensions are now DEPRECATED in favor of the new <code>revapi.differences</code> that melds the two together and adds a couple of new features on top. This change is significant enough to have its own separate paragraph below.</p>
</li>
<li>
<p><a href="https://github.com/revapi/revapi/issues/199">#199</a> - <code>revapi.reporter.json</code> and <code>revapi.reporter.text</code> now have a new configuration property - <code>keepEmptyFile</code> (defaulting to true) which enables the report to not even create the report file when there are no reportable differences found.</p>
</li>
<li>
<p><a href="https://github.com/revapi/revapi/issues/203">#203</a> - This introduces the concept of difference criticality - a new way of determining whether to report the difference or break the build because of it. This again is discussed separately below.</p>
</li>
<li>
<p><a href="https://github.com/revapi/revapi/issues/204">#204</a> - This taught maven plugin to use the criticality instead of the difference severity as an indicator for failing the build.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Thanks go out to <a href="https://github.com/sbernard31">Simon Bernard</a> for providing an FAQ entry about the slightly non-obvious circumstances where Revapi might complain about an external class exposed in the API, and especially to <a href="https://github.com/maxandersen">Max Andersen</a> that sparked all of the cool ideas how to make the reporting and build breaking much more usable.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reporting_improvements"><a class="anchor" href="#_reporting_improvements"></a>Reporting improvements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As mentioned above, this release introduces the <code>revapi.differences</code> extension and deprecates <code>revapi.ignore</code> and <code>revapi.reclassify</code>. The new extension keeps the functionality of the old two but brings about acouple of important new features that enable us to greatly improve reporting and difference handling.</p>
</div>
<div class="paragraph">
<p>Apart from ignoring (which really means removing) differences and reclassifying them, the new extension can also just set a justification on a difference or set its criticality. These two properties are then carried on the differences over to the reporters that can make use of them. This enables the long awaited feature of reporting the justifications for the differences in the report.</p>
</div>
<div class="paragraph">
<p>This new extension also enables the user to add new attachments (aka match parameters) to the differences. These attachments are then available for processing by other difference transformations or by reporters. You can for example use it to assign a JIRA reference to the API change, etc.</p>
</div>
<div class="paragraph">
<p>Probably the most important new feature of this extension though is the ability to ignore or modify the
differences en-masse. The documentation shows an example how to use this to have a single external configuration file with all the differences (as is the usual practice in the community) and use this configuration to both break the build at build time and generate a full change report with justifications during the report generation. See more in the <a href="../../../revapi-basic-features/0.10.0/differences.html" class="page">docs</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criticality"><a class="anchor" href="#_criticality"></a>Criticality</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Criticality is Revapi&#8217;s new way of determining the impact of a difference. It can assume configurable values but by default it can be the following: <code>allowed</code>, <code>documented</code>, <code>hightlight</code>, <code>error</code>. These may look a bit strange at first, but IMHO they capture quite well how the API changes are usually dealt with. The authors either allow certain types of changes in their APIs or they document the API changes, some API changes might be even more important as to be highlighted in the release announcements, and finally some API changes are just not allowed and are considered errors.</p>
</div>
<div class="paragraph">
<p>Criticality is a new property of a difference and is assigned during the difference transformation phase. If no difference transform assigns the criticality to a difference, the criticality is automatically assigned to it using a mapping between a difference severity and criticality. As such, when the differences are finally processed by the reporters, the reporters always know how "critical" each difference is.</p>
</div>
</div>
</div>
    </article>
        <aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
    </div>
</main>
</div>
<footer class="footer">
    <p>Copyright 2014-2021 Lukas Krejci.</p>
    <p>This site was built using <a href="https://antora.org">Antora 2.3.3</a>.</p>
</footer>
<script>
  window.antora = window.antora || {}
  window.antora.basePath = '../../..'
  window.antora.pagePath = '/revapi-site/news/news/20200724-reporting-improvements.html'
</script>
<script src="../../../_/js/site.js"></script>
  <script src="../../../_/js/vendor/lunr.js"></script>
  <script src="../../../_/js/vendor/search.js"></script>
  <script async src="../../../_/../search-index.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script>
    function toggleVersionSelector(id) {
        var sel = document.getElementById(id)
        if (!sel) {
            return
        }

        if (sel.style.display == 'none') {
            sel.style.display = 'block';
        } else {
            sel.style.display = 'none';
        }
    }
</script></body>
</html>
